/*! For license information please see TransportWebU2F.js.LICENSE.txt */
!function(){var e={742:function(e,t){"use strict";t.byteLength=function(e){var t=a(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,i=a(e),s=i[0],c=i[1],u=new o(function(e,t,n){return 3*(t+n)/4-n}(0,s,c)),l=0,h=c>0?s-4:s;for(n=0;n<h;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],u[l++]=t>>16&255,u[l++]=t>>8&255,u[l++]=255&t;return 2===c&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,u[l++]=255&t),1===c&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,u[l++]=t>>8&255,u[l++]=255&t),u},t.fromByteArray=function(e){for(var t,r=e.length,o=r%3,i=[],s=16383,a=0,u=r-o;a<u;a+=s)i.push(c(e,a,a+s>u?u:a+s));return 1===o?(t=e[r-1],i.push(n[t>>2]+n[t<<4&63]+"==")):2===o&&(t=(e[r-2]<<8)+e[r-1],i.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"=")),i.join("")};for(var n=[],r=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0;s<64;++s)n[s]=i[s],r[i.charCodeAt(s)]=s;function a(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function c(e,t,r){for(var o,i,s=[],a=t;a<r;a+=3)o=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),s.push(n[(i=o)>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return s.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},764:function(e,t,n){"use strict";var r=n(742),o=n(645);t.lW=a,t.h2=50;var i=2147483647;function s(e){if(e>i)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return t.__proto__=a.prototype,t}function a(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return l(e)}return c(e,t,n)}function c(e,t,n){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!a.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var n=0|p(e,t),r=s(n),o=r.write(e,t);return o!==n&&(r=r.slice(0,o)),r}(e,t);if(ArrayBuffer.isView(e))return h(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(F(e,ArrayBuffer)||e&&F(e.buffer,ArrayBuffer))return function(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');var r;return(r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n)).__proto__=a.prototype,r}(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return a.from(r,t,n);var o=function(e){if(a.isBuffer(e)){var t=0|f(e.length),n=s(t);return 0===n.length||e.copy(n,0,0,t),n}return void 0!==e.length?"number"!=typeof e.length||j(e.length)?s(0):h(e):"Buffer"===e.type&&Array.isArray(e.data)?h(e.data):void 0}(e);if(o)return o;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return a.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function l(e){return u(e),s(e<0?0:0|f(e))}function h(e){for(var t=e.length<0?0:0|f(e.length),n=s(t),r=0;r<t;r+=1)n[r]=255&e[r];return n}function f(e){if(e>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return 0|e}function p(e,t){if(a.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||F(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;for(var o=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return Z(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return B(e).length;default:if(o)return r?-1:Z(e).length;t=(""+t).toLowerCase(),o=!0}}function d(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return A(this,t,n);case"utf8":case"utf-8":return S(this,t,n);case"ascii":return C(this,t,n);case"latin1":case"binary":return O(this,t,n);case"base64":return k(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function g(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function y(e,t,n,r,o){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),j(n=+n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=a.from(t,r)),a.isBuffer(t))return 0===t.length?-1:v(e,t,n,r,o);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):v(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function v(e,t,n,r,o){var i,s=1,a=e.length,c=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s=2,a/=2,c/=2,n/=2}function u(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(o){var l=-1;for(i=n;i<a;i++)if(u(e,i)===u(t,-1===l?0:i-l)){if(-1===l&&(l=i),i-l+1===c)return l*s}else-1!==l&&(i-=i-l),l=-1}else for(n+c>a&&(n=a-c),i=n;i>=0;i--){for(var h=!0,f=0;f<c;f++)if(u(e,i+f)!==u(t,f)){h=!1;break}if(h)return i}return-1}function _(e,t,n,r){n=Number(n)||0;var o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;var i=t.length;r>i/2&&(r=i/2);for(var s=0;s<r;++s){var a=parseInt(t.substr(2*s,2),16);if(j(a))return s;e[n+s]=a}return s}function m(e,t,n,r){return x(Z(t,e.length-n),e,n,r)}function E(e,t,n,r){return x(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function w(e,t,n,r){return E(e,t,n,r)}function T(e,t,n,r){return x(B(t),e,n,r)}function b(e,t,n,r){return x(function(e,t){for(var n,r,o,i=[],s=0;s<e.length&&!((t-=2)<0);++s)r=(n=e.charCodeAt(s))>>8,o=n%256,i.push(o),i.push(r);return i}(t,e.length-n),e,n,r)}function k(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function S(e,t,n){n=Math.min(e.length,n);for(var r=[],o=t;o<n;){var i,s,a,c,u=e[o],l=null,h=u>239?4:u>223?3:u>191?2:1;if(o+h<=n)switch(h){case 1:u<128&&(l=u);break;case 2:128==(192&(i=e[o+1]))&&(c=(31&u)<<6|63&i)>127&&(l=c);break;case 3:i=e[o+1],s=e[o+2],128==(192&i)&&128==(192&s)&&(c=(15&u)<<12|(63&i)<<6|63&s)>2047&&(c<55296||c>57343)&&(l=c);break;case 4:i=e[o+1],s=e[o+2],a=e[o+3],128==(192&i)&&128==(192&s)&&128==(192&a)&&(c=(15&u)<<18|(63&i)<<12|(63&s)<<6|63&a)>65535&&c<1114112&&(l=c)}null===l?(l=65533,h=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),o+=h}return function(e){var t=e.length;if(t<=I)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=I));return n}(r)}a.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()}catch(e){return!1}}(),a.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),a.poolSize=8192,a.from=function(e,t,n){return c(e,t,n)},a.prototype.__proto__=Uint8Array.prototype,a.__proto__=Uint8Array,a.alloc=function(e,t,n){return function(e,t,n){return u(e),e<=0?s(e):void 0!==t?"string"==typeof n?s(e).fill(t,n):s(e).fill(t):s(e)}(e,t,n)},a.allocUnsafe=function(e){return l(e)},a.allocUnsafeSlow=function(e){return l(e)},a.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==a.prototype},a.compare=function(e,t){if(F(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),F(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),!a.isBuffer(e)||!a.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var n=e.length,r=t.length,o=0,i=Math.min(n,r);o<i;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},a.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return a.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=a.allocUnsafe(t),o=0;for(n=0;n<e.length;++n){var i=e[n];if(F(i,Uint8Array)&&(i=a.from(i)),!a.isBuffer(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(r,o),o+=i.length}return r},a.byteLength=p,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},a.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},a.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},a.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?S(this,0,e):d.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(e){if(!a.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===a.compare(this,e)},a.prototype.inspect=function(){var e="",n=t.h2;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},a.prototype.compare=function(e,t,n,r,o){if(F(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),!a.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(this===e)return 0;for(var i=(o>>>=0)-(r>>>=0),s=(n>>>=0)-(t>>>=0),c=Math.min(i,s),u=this.slice(r,o),l=e.slice(t,n),h=0;h<c;++h)if(u[h]!==l[h]){i=u[h],s=l[h];break}return i<s?-1:s<i?1:0},a.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},a.prototype.indexOf=function(e,t,n){return y(this,e,t,n,!0)},a.prototype.lastIndexOf=function(e,t,n){return y(this,e,t,n,!1)},a.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return _(this,e,t,n);case"utf8":case"utf-8":return m(this,e,t,n);case"ascii":return E(this,e,t,n);case"latin1":case"binary":return w(this,e,t,n);case"base64":return T(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return b(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var I=4096;function C(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function O(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function A(e,t,n){var r,o=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>o)&&(n=o);for(var i="",s=t;s<n;++s)i+=(r=e[s])<16?"0"+r.toString(16):r.toString(16);return i}function D(e,t,n){for(var r=e.slice(t,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function R(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function P(e,t,n,r,o,i){if(!a.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function N(e,t,n,r,o,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function L(e,t,n,r,i){return t=+t,n>>>=0,i||N(e,0,n,4),o.write(e,t,n,r,23,4),n+4}function U(e,t,n,r,i){return t=+t,n>>>=0,i||N(e,0,n,8),o.write(e,t,n,r,52,8),n+8}a.prototype.slice=function(e,t){var n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var r=this.subarray(e,t);return r.__proto__=a.prototype,r},a.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||R(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r},a.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||R(e,t,this.length);for(var r=this[e+--t],o=1;t>0&&(o*=256);)r+=this[e+--t]*o;return r},a.prototype.readUInt8=function(e,t){return e>>>=0,t||R(e,1,this.length),this[e]},a.prototype.readUInt16LE=function(e,t){return e>>>=0,t||R(e,2,this.length),this[e]|this[e+1]<<8},a.prototype.readUInt16BE=function(e,t){return e>>>=0,t||R(e,2,this.length),this[e]<<8|this[e+1]},a.prototype.readUInt32LE=function(e,t){return e>>>=0,t||R(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},a.prototype.readUInt32BE=function(e,t){return e>>>=0,t||R(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},a.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||R(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*t)),r},a.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||R(e,t,this.length);for(var r=t,o=1,i=this[e+--r];r>0&&(o*=256);)i+=this[e+--r]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*t)),i},a.prototype.readInt8=function(e,t){return e>>>=0,t||R(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},a.prototype.readInt16LE=function(e,t){e>>>=0,t||R(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},a.prototype.readInt16BE=function(e,t){e>>>=0,t||R(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},a.prototype.readInt32LE=function(e,t){return e>>>=0,t||R(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},a.prototype.readInt32BE=function(e,t){return e>>>=0,t||R(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},a.prototype.readFloatLE=function(e,t){return e>>>=0,t||R(e,4,this.length),o.read(this,e,!0,23,4)},a.prototype.readFloatBE=function(e,t){return e>>>=0,t||R(e,4,this.length),o.read(this,e,!1,23,4)},a.prototype.readDoubleLE=function(e,t){return e>>>=0,t||R(e,8,this.length),o.read(this,e,!0,52,8)},a.prototype.readDoubleBE=function(e,t){return e>>>=0,t||R(e,8,this.length),o.read(this,e,!1,52,8)},a.prototype.writeUIntLE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||P(this,e,t,n,Math.pow(2,8*n)-1,0);var o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},a.prototype.writeUIntBE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||P(this,e,t,n,Math.pow(2,8*n)-1,0);var o=n-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+n},a.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,1,255,0),this[t]=255&e,t+1},a.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},a.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var o=Math.pow(2,8*n-1);P(this,e,t,n,o-1,-o)}var i=0,s=1,a=0;for(this[t]=255&e;++i<n&&(s*=256);)e<0&&0===a&&0!==this[t+i-1]&&(a=1),this[t+i]=(e/s>>0)-a&255;return t+n},a.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var o=Math.pow(2,8*n-1);P(this,e,t,n,o-1,-o)}var i=n-1,s=1,a=0;for(this[t+i]=255&e;--i>=0&&(s*=256);)e<0&&0===a&&0!==this[t+i+1]&&(a=1),this[t+i]=(e/s>>0)-a&255;return t+n},a.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},a.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},a.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeFloatLE=function(e,t,n){return L(this,e,t,!0,n)},a.prototype.writeFloatBE=function(e,t,n){return L(this,e,t,!1,n)},a.prototype.writeDoubleLE=function(e,t,n){return U(this,e,t,!0,n)},a.prototype.writeDoubleBE=function(e,t,n){return U(this,e,t,!1,n)},a.prototype.copy=function(e,t,n,r){if(!a.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var o=r-n;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,n,r);else if(this===e&&n<t&&t<r)for(var i=o-1;i>=0;--i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,r),t);return o},a.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!a.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){var o=e.charCodeAt(0);("utf8"===r&&o<128||"latin1"===r)&&(e=o)}}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{var s=a.isBuffer(e)?e:a.from(e,r),c=s.length;if(0===c)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<n-t;++i)this[i+t]=s[i%c]}return this};var M=/[^+/0-9A-Za-z-_]/g;function Z(e,t){var n;t=t||1/0;for(var r=e.length,o=null,i=[],s=0;s<r;++s){if((n=e.charCodeAt(s))>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function B(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(M,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function x(e,t,n,r){for(var o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}function F(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function j(e){return e!=e}},187:function(e){"use strict";var t,n="object"==typeof Reflect?Reflect:null,r=n&&"function"==typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!=e};function i(){i.init.call(this)}e.exports=i,e.exports.once=function(e,t){return new Promise((function(n,r){function o(n){e.removeListener(t,i),r(n)}function i(){"function"==typeof e.removeListener&&e.removeListener("error",o),n([].slice.call(arguments))}g(e,t,i,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&g(e,"error",t,{once:!0})}(e,o)}))},i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var s=10;function a(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?i.defaultMaxListeners:e._maxListeners}function u(e,t,n,r){var o,i,s,u;if(a(n),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),s=i[t]),void 0===s)s=i[t]=n,++e._eventsCount;else if("function"==typeof s?s=i[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(o=c(e))>0&&s.length>o&&!s.warned){s.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=s.length,u=l,console&&console.warn&&console.warn(u)}return e}function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},o=l.bind(r);return o.listener=n,r.wrapFn=o,o}function f(e,t,n){var r=e._events;if(void 0===r)return[];var o=r[t];return void 0===o?[]:"function"==typeof o?n?[o.listener||o]:[o]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(o):d(o,o.length)}function p(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function d(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function g(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function o(i){r.once&&e.removeEventListener(t,o),n(i)}))}}Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),i.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},i.prototype.getMaxListeners=function(){return c(this)},i.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var o="error"===e,i=this._events;if(void 0!==i)o=o&&void 0===i.error;else if(!o)return!1;if(o){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var c=i[e];if(void 0===c)return!1;if("function"==typeof c)r(c,this,t);else{var u=c.length,l=d(c,u);for(n=0;n<u;++n)r(l[n],this,t)}return!0},i.prototype.addListener=function(e,t){return u(this,e,t,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(e,t){return u(this,e,t,!0)},i.prototype.once=function(e,t){return a(t),this.on(e,h(this,e,t)),this},i.prototype.prependOnceListener=function(e,t){return a(t),this.prependListener(e,h(this,e,t)),this},i.prototype.removeListener=function(e,t){var n,r,o,i,s;if(a(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(o=-1,i=n.length-1;i>=0;i--)if(n[i]===t||n[i].listener===t){s=n[i].listener,o=i;break}if(o<0)return this;0===o?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,o),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,s||t)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var o,i=Object.keys(n);for(r=0;r<i.length;++r)"removeListener"!==(o=i[r])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},i.prototype.listeners=function(e){return f(this,e,!0)},i.prototype.rawListeners=function(e){return f(this,e,!1)},i.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):p.call(e,t)},i.prototype.listenerCount=p,i.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},645:function(e,t){t.read=function(e,t,n,r,o){var i,s,a=8*o-r-1,c=(1<<a)-1,u=c>>1,l=-7,h=n?o-1:0,f=n?-1:1,p=e[t+h];for(h+=f,i=p&(1<<-l)-1,p>>=-l,l+=a;l>0;i=256*i+e[t+h],h+=f,l-=8);for(s=i&(1<<-l)-1,i>>=-l,l+=r;l>0;s=256*s+e[t+h],h+=f,l-=8);if(0===i)i=1-u;else{if(i===c)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,r),i-=u}return(p?-1:1)*s*Math.pow(2,i-r)},t.write=function(e,t,n,r,o,i){var s,a,c,u=8*i-o-1,l=(1<<u)-1,h=l>>1,f=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:i-1,d=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=l):(s=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-s))<1&&(s--,c*=2),(t+=s+h>=1?f/c:f*Math.pow(2,1-h))*c>=2&&(s++,c/=2),s+h>=l?(a=0,s=l):s+h>=1?(a=(t*c-1)*Math.pow(2,o),s+=h):(a=t*Math.pow(2,h-1)*Math.pow(2,o),s=0));o>=8;e[n+p]=255&a,p+=d,a/=256,o-=8);for(s=s<<o|a,u+=o;u>0;e[n+p]=255&s,p+=d,s/=256,u-=8);e[n+p-d]|=128*g}},823:function(e,t,n){"use strict";e.exports=n(145)},845:function(e){"use strict";var t=t||{};e.exports=t,t.EXTENSION_ID="kmendfapggjehodndflmmgagdbamhnfd",t.MessageTypes={U2F_REGISTER_REQUEST:"u2f_register_request",U2F_SIGN_REQUEST:"u2f_sign_request",U2F_REGISTER_RESPONSE:"u2f_register_response",U2F_SIGN_RESPONSE:"u2f_sign_response"},t.ErrorCodes={OK:0,OTHER_ERROR:1,BAD_REQUEST:2,CONFIGURATION_UNSUPPORTED:3,DEVICE_INELIGIBLE:4,TIMEOUT:5},t.Request,t.Response,t.Error,t.SignRequest,t.SignResponse,t.RegisterRequest,t.RegisterResponse,t.disconnect=function(){t.port_&&t.port_.port_&&(t.port_.port_.disconnect(),t.port_=null)},t.getMessagePort=function(e){if("undefined"!=typeof chrome&&chrome.runtime){var n={type:t.MessageTypes.U2F_SIGN_REQUEST,signRequests:[]};chrome.runtime.sendMessage(t.EXTENSION_ID,n,(function(){chrome.runtime.lastError?t.getIframePort_(e):t.getChromeRuntimePort_(e)}))}else t.getIframePort_(e)},t.getChromeRuntimePort_=function(e){var n=chrome.runtime.connect(t.EXTENSION_ID,{includeTlsChannelId:!0});setTimeout((function(){e(null,new t.WrappedChromeRuntimePort_(n))}),0)},t.WrappedChromeRuntimePort_=function(e){this.port_=e},t.WrappedChromeRuntimePort_.prototype.postMessage=function(e){this.port_.postMessage(e)},t.WrappedChromeRuntimePort_.prototype.addEventListener=function(e,t){var n=e.toLowerCase();"message"==n||"onmessage"==n?this.port_.onMessage.addListener((function(e){t({data:e})})):console.error("WrappedChromeRuntimePort only supports onMessage")},t.getIframePort_=function(e){var n="chrome-extension://"+t.EXTENSION_ID,r=document.createElement("iframe");r.src=n+"/u2f-comms.html",r.setAttribute("style","display:none"),document.body.appendChild(r);var o=!1,i=new MessageChannel,s=function(t){"ready"==t.data?(i.port1.removeEventListener("message",s),o||(o=!0,e(null,i.port1))):console.error('First event on iframe port was not "ready"')};i.port1.addEventListener("message",s),i.port1.start(),r.addEventListener("load",(function(){r.contentWindow.postMessage("init",n,[i.port2])})),setTimeout((function(){o||(o=!0,e(new Error("IFrame extension not supported")))}),200)},t.EXTENSION_TIMEOUT_SEC=30,t.port_=null,t.waitingForPort_=[],t.reqCounter_=0,t.callbackMap_={},t.getPortSingleton_=function(e){t.port_?e(null,t.port_):(0==t.waitingForPort_.length&&t.getMessagePort((function(e,n){for(e||(t.port_=n,t.port_.addEventListener("message",t.responseHandler_));t.waitingForPort_.length;)t.waitingForPort_.shift()(e,n)})),t.waitingForPort_.push(e))},t.responseHandler_=function(e){var n=e.data,r=n.requestId;if(r&&t.callbackMap_[r]){var o=t.callbackMap_[r];delete t.callbackMap_[r],o(null,n.responseData)}else console.error("Unknown or missing requestId in response.")},t.isSupported=function(e){t.getPortSingleton_((function(t,n){e(!t)}))},t.sign=function(e,n,r){t.getPortSingleton_((function(o,i){if(o)return n(o);var s=++t.reqCounter_;t.callbackMap_[s]=n;var a={type:t.MessageTypes.U2F_SIGN_REQUEST,signRequests:e,timeoutSeconds:void 0!==r?r:t.EXTENSION_TIMEOUT_SEC,requestId:s};i.postMessage(a)}))},t.register=function(e,n,r,o){t.getPortSingleton_((function(i,s){if(i)return r(i);var a=++t.reqCounter_;t.callbackMap_[a]=r;var c={type:t.MessageTypes.U2F_REGISTER_REQUEST,signRequests:n,registerRequests:e,timeoutSeconds:void 0!==o?o:t.EXTENSION_TIMEOUT_SEC,requestId:a};s.postMessage(c)}))}},145:function(e,t,n){"use strict";e.exports=u;var r=n(845),o="undefined"!=typeof navigator&&!!navigator.userAgent,i=o&&navigator.userAgent.match(/Safari\//)&&!navigator.userAgent.match(/Chrome\//),s=o&&navigator.userAgent.match(/Edge\/1[2345]/),a=null;function c(e){return a||(a=new e((function(e,t){function n(){e({u2f:null,native:!0})}return o?i?n():(void 0!==window.u2f&&"function"==typeof window.u2f.sign&&e({u2f:window.u2f,native:!0}),s||"http:"===location.protocol||"undefined"==typeof MessageChannel?n():void r.isSupported((function(t){t?e({u2f:r,native:!1}):n()}))):n()}))),a}function u(e){return{isSupported:f.bind(e),ensureSupport:d.bind(e),register:g.bind(e),sign:y.bind(e),ErrorCodes:u.ErrorCodes,ErrorNames:u.ErrorNames}}function l(e,t){var n=null!=t?t.errorCode:1,r=u.ErrorNames[""+n],o=new Error(e);return o.metaData={type:r,code:n},o}function h(e,t){var n={};return n.promise=new e((function(e,r){n.resolve=e,n.reject=r,t.then(e,r)})),n.promise.cancel=function(t,r){c(e).then((function(e){r&&!e.native&&e.u2f.disconnect(),n.reject(l(t,{errorCode:-1}))}))},n}function f(){return c(this).then((function(e){return!!e.u2f}))}function p(e){if(!e.u2f){if("http:"===location.protocol)throw new Error("U2F isn't supported over http, only https");throw new Error("U2F not supported")}}function d(){return c(this).then(p)}function g(e,t,n){var r=this;return Array.isArray(e)||(e=[e]),"number"==typeof t&&void 0===n&&(n=t,t=null),t||(t=[]),h(r,c(r).then((function(o){p(o);var i=o.native,s=o.u2f;return new r((function(r,o){if(i){var a=e[0].appId;s.register(a,e,t,(function(e){e.errorCode?o(l("Registration failed",e)):(delete e.errorCode,r(e))}),n)}else s.register(e,t,(function(e,t){e?o(e):t.errorCode?o(l("Registration failed",t)):r(t)}),n)}))}))).promise}function y(e,t){var n=this;return Array.isArray(e)||(e=[e]),h(n,c(n).then((function(r){p(r);var o=r.native,i=r.u2f;return new n((function(n,r){if(o){var s=e[0].appId,a=e[0].challenge;i.sign(s,a,e,(function(e){e.errorCode?r(l("Sign failed",e)):(delete e.errorCode,n(e))}),t)}else i.sign(e,(function(e,t){e?r(e):t.errorCode?r(l("Sign failed",t)):n(t)}),t)}))}))).promise}function v(e){u[e]=function(){if(!n.g.Promise)throw new Error("The platform doesn't natively support promises");var t=[].slice.call(arguments);return u(n.g.Promise)[e].apply(null,t)}}u.ErrorCodes={CANCELLED:-1,OK:0,OTHER_ERROR:1,BAD_REQUEST:2,CONFIGURATION_UNSUPPORTED:3,DEVICE_INELIGIBLE:4,TIMEOUT:5},u.ErrorNames={"-1":"CANCELLED",0:"OK",1:"OTHER_ERROR",2:"BAD_REQUEST",3:"CONFIGURATION_UNSUPPORTED",4:"DEVICE_INELIGIBLE",5:"TIMEOUT"},v("isSupported"),v("ensureSupport"),v("register"),v("sign")},37:function(e,t,n){"use strict";!function(e){const t=e.performance;function n(e){t&&t.mark&&t.mark(e)}function r(e,n){t&&t.measure&&t.measure(e,n)}n("Zone");const o=e.__Zone_symbol_prefix||"__zone_symbol__";function i(e){return o+e}const s=!0===e[i("forceDuplicateZoneCheck")];if(e.Zone){if(s||"function"!=typeof e.Zone.__symbol__)throw new Error("Zone already loaded.");return e.Zone}class a{constructor(e,t){this._parent=e,this._name=t?t.name||"unnamed":"<root>",this._properties=t&&t.properties||{},this._zoneDelegate=new u(this,this._parent&&this._parent._zoneDelegate,t)}static assertZonePatched(){if(e.Promise!==D.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")}static get root(){let e=a.current;for(;e.parent;)e=e.parent;return e}static get current(){return P.zone}static get currentTask(){return N}static __load_patch(t,o,i=!1){if(D.hasOwnProperty(t)){if(!i&&s)throw Error("Already loaded patch: "+t)}else if(!e["__Zone_disable_"+t]){const i="Zone:"+t;n(i),D[t]=o(e,a,R),r(i,i)}}get parent(){return this._parent}get name(){return this._name}get(e){const t=this.getZoneWith(e);if(t)return t._properties[e]}getZoneWith(e){let t=this;for(;t;){if(t._properties.hasOwnProperty(e))return t;t=t._parent}return null}fork(e){if(!e)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,e)}wrap(e,t){if("function"!=typeof e)throw new Error("Expecting function got: "+e);const n=this._zoneDelegate.intercept(this,e,t),r=this;return function(){return r.runGuarded(n,this,arguments,t)}}run(e,t,n,r){P={parent:P,zone:this};try{return this._zoneDelegate.invoke(this,e,t,n,r)}finally{P=P.parent}}runGuarded(e,t=null,n,r){P={parent:P,zone:this};try{try{return this._zoneDelegate.invoke(this,e,t,n,r)}catch(e){if(this._zoneDelegate.handleError(this,e))throw e}}finally{P=P.parent}}runTask(e,t,n){if(e.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(e.zone||E).name+"; Execution: "+this.name+")");if(e.state===w&&(e.type===A||e.type===O))return;const r=e.state!=k;r&&e._transitionTo(k,b),e.runCount++;const o=N;N=e,P={parent:P,zone:this};try{e.type==O&&e.data&&!e.data.isPeriodic&&(e.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,e,t,n)}catch(e){if(this._zoneDelegate.handleError(this,e))throw e}}finally{e.state!==w&&e.state!==I&&(e.type==A||e.data&&e.data.isPeriodic?r&&e._transitionTo(b,k):(e.runCount=0,this._updateTaskCount(e,-1),r&&e._transitionTo(w,k,w))),P=P.parent,N=o}}scheduleTask(e){if(e.zone&&e.zone!==this){let t=this;for(;t;){if(t===e.zone)throw Error(`can not reschedule task to ${this.name} which is descendants of the original zone ${e.zone.name}`);t=t.parent}}e._transitionTo(T,w);const t=[];e._zoneDelegates=t,e._zone=this;try{e=this._zoneDelegate.scheduleTask(this,e)}catch(t){throw e._transitionTo(I,T,w),this._zoneDelegate.handleError(this,t),t}return e._zoneDelegates===t&&this._updateTaskCount(e,1),e.state==T&&e._transitionTo(b,T),e}scheduleMicroTask(e,t,n,r){return this.scheduleTask(new l(C,e,t,n,r,void 0))}scheduleMacroTask(e,t,n,r,o){return this.scheduleTask(new l(O,e,t,n,r,o))}scheduleEventTask(e,t,n,r,o){return this.scheduleTask(new l(A,e,t,n,r,o))}cancelTask(e){if(e.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(e.zone||E).name+"; Execution: "+this.name+")");if(e.state===b||e.state===k){e._transitionTo(S,b,k);try{this._zoneDelegate.cancelTask(this,e)}catch(t){throw e._transitionTo(I,S),this._zoneDelegate.handleError(this,t),t}return this._updateTaskCount(e,-1),e._transitionTo(w,S),e.runCount=0,e}}_updateTaskCount(e,t){const n=e._zoneDelegates;-1==t&&(e._zoneDelegates=null);for(let r=0;r<n.length;r++)n[r]._updateTaskCount(e.type,t)}}a.__symbol__=i;const c={name:"",onHasTask:(e,t,n,r)=>e.hasTask(n,r),onScheduleTask:(e,t,n,r)=>e.scheduleTask(n,r),onInvokeTask:(e,t,n,r,o,i)=>e.invokeTask(n,r,o,i),onCancelTask:(e,t,n,r)=>e.cancelTask(n,r)};class u{constructor(e,t,n){this._taskCounts={microTask:0,macroTask:0,eventTask:0},this.zone=e,this._parentDelegate=t,this._forkZS=n&&(n&&n.onFork?n:t._forkZS),this._forkDlgt=n&&(n.onFork?t:t._forkDlgt),this._forkCurrZone=n&&(n.onFork?this.zone:t._forkCurrZone),this._interceptZS=n&&(n.onIntercept?n:t._interceptZS),this._interceptDlgt=n&&(n.onIntercept?t:t._interceptDlgt),this._interceptCurrZone=n&&(n.onIntercept?this.zone:t._interceptCurrZone),this._invokeZS=n&&(n.onInvoke?n:t._invokeZS),this._invokeDlgt=n&&(n.onInvoke?t:t._invokeDlgt),this._invokeCurrZone=n&&(n.onInvoke?this.zone:t._invokeCurrZone),this._handleErrorZS=n&&(n.onHandleError?n:t._handleErrorZS),this._handleErrorDlgt=n&&(n.onHandleError?t:t._handleErrorDlgt),this._handleErrorCurrZone=n&&(n.onHandleError?this.zone:t._handleErrorCurrZone),this._scheduleTaskZS=n&&(n.onScheduleTask?n:t._scheduleTaskZS),this._scheduleTaskDlgt=n&&(n.onScheduleTask?t:t._scheduleTaskDlgt),this._scheduleTaskCurrZone=n&&(n.onScheduleTask?this.zone:t._scheduleTaskCurrZone),this._invokeTaskZS=n&&(n.onInvokeTask?n:t._invokeTaskZS),this._invokeTaskDlgt=n&&(n.onInvokeTask?t:t._invokeTaskDlgt),this._invokeTaskCurrZone=n&&(n.onInvokeTask?this.zone:t._invokeTaskCurrZone),this._cancelTaskZS=n&&(n.onCancelTask?n:t._cancelTaskZS),this._cancelTaskDlgt=n&&(n.onCancelTask?t:t._cancelTaskDlgt),this._cancelTaskCurrZone=n&&(n.onCancelTask?this.zone:t._cancelTaskCurrZone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;const r=n&&n.onHasTask,o=t&&t._hasTaskZS;(r||o)&&(this._hasTaskZS=r?n:c,this._hasTaskDlgt=t,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=e,n.onScheduleTask||(this._scheduleTaskZS=c,this._scheduleTaskDlgt=t,this._scheduleTaskCurrZone=this.zone),n.onInvokeTask||(this._invokeTaskZS=c,this._invokeTaskDlgt=t,this._invokeTaskCurrZone=this.zone),n.onCancelTask||(this._cancelTaskZS=c,this._cancelTaskDlgt=t,this._cancelTaskCurrZone=this.zone))}fork(e,t){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,e,t):new a(e,t)}intercept(e,t,n){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,e,t,n):t}invoke(e,t,n,r,o){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,e,t,n,r,o):t.apply(n,r)}handleError(e,t){return!this._handleErrorZS||this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,e,t)}scheduleTask(e,t){let n=t;if(this._scheduleTaskZS)this._hasTaskZS&&n._zoneDelegates.push(this._hasTaskDlgtOwner),n=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,e,t),n||(n=t);else if(t.scheduleFn)t.scheduleFn(t);else{if(t.type!=C)throw new Error("Task is missing scheduleFn.");_(t)}return n}invokeTask(e,t,n,r){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,e,t,n,r):t.callback.apply(n,r)}cancelTask(e,t){let n;if(this._cancelTaskZS)n=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,e,t);else{if(!t.cancelFn)throw Error("Task is not cancelable");n=t.cancelFn(t)}return n}hasTask(e,t){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,e,t)}catch(t){this.handleError(e,t)}}_updateTaskCount(e,t){const n=this._taskCounts,r=n[e],o=n[e]=r+t;if(o<0)throw new Error("More tasks executed then were scheduled.");if(0==r||0==o){const t={microTask:n.microTask>0,macroTask:n.macroTask>0,eventTask:n.eventTask>0,change:e};this.hasTask(this.zone,t)}}}class l{constructor(t,n,r,o,i,s){if(this._zone=null,this.runCount=0,this._zoneDelegates=null,this._state="notScheduled",this.type=t,this.source=n,this.data=o,this.scheduleFn=i,this.cancelFn=s,!r)throw new Error("callback is not defined");this.callback=r;const a=this;t===A&&o&&o.useG?this.invoke=l.invokeTask:this.invoke=function(){return l.invokeTask.call(e,a,this,arguments)}}static invokeTask(e,t,n){e||(e=this),L++;try{return e.runCount++,e.zone.runTask(e,t,n)}finally{1==L&&m(),L--}}get zone(){return this._zone}get state(){return this._state}cancelScheduleRequest(){this._transitionTo(w,T)}_transitionTo(e,t,n){if(this._state!==t&&this._state!==n)throw new Error(`${this.type} '${this.source}': can not transition to '${e}', expecting state '${t}'${n?" or '"+n+"'":""}, was '${this._state}'.`);this._state=e,e==w&&(this._zoneDelegates=null)}toString(){return this.data&&void 0!==this.data.handleId?this.data.handleId.toString():Object.prototype.toString.call(this)}toJSON(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}}}const h=i("setTimeout"),f=i("Promise"),p=i("then");let d,g=[],y=!1;function v(t){if(d||e[f]&&(d=e[f].resolve(0)),d){let e=d[p];e||(e=d.then),e.call(d,t)}else e[h](t,0)}function _(e){0===L&&0===g.length&&v(m),e&&g.push(e)}function m(){if(!y){for(y=!0;g.length;){const e=g;g=[];for(let t=0;t<e.length;t++){const n=e[t];try{n.zone.runTask(n,null,null)}catch(e){R.onUnhandledError(e)}}}R.microtaskDrainDone(),y=!1}}const E={name:"NO ZONE"},w="notScheduled",T="scheduling",b="scheduled",k="running",S="canceling",I="unknown",C="microTask",O="macroTask",A="eventTask",D={},R={symbol:i,currentZoneFrame:()=>P,onUnhandledError:U,microtaskDrainDone:U,scheduleMicroTask:_,showUncaughtError:()=>!a[i("ignoreConsoleErrorUncaughtError")],patchEventTarget:()=>[],patchOnProperties:U,patchMethod:()=>U,bindArguments:()=>[],patchThen:()=>U,patchMacroTask:()=>U,patchEventPrototype:()=>U,isIEOrEdge:()=>!1,getGlobalObjects:()=>{},ObjectDefineProperty:()=>U,ObjectGetOwnPropertyDescriptor:()=>{},ObjectCreate:()=>{},ArraySlice:()=>[],patchClass:()=>U,wrapWithCurrentZone:()=>U,filterProperties:()=>[],attachOriginToPatched:()=>U,_redefineProperty:()=>U,patchCallbacks:()=>U,nativeScheduleMicroTask:v};let P={parent:null,zone:new a(null,null)},N=null,L=0;function U(){}r("Zone","Zone"),e.Zone=a}("undefined"!=typeof window&&window||"undefined"!=typeof self&&self||n.g);const r=Object.getOwnPropertyDescriptor,o=Object.defineProperty,i=Object.getPrototypeOf,s=Object.create,a=Array.prototype.slice,c="addEventListener",u="removeEventListener",l=Zone.__symbol__(c),h=Zone.__symbol__(u),f="true",p="false",d=Zone.__symbol__("");function g(e,t){return Zone.current.wrap(e,t)}function y(e,t,n,r,o){return Zone.current.scheduleMacroTask(e,t,n,r,o)}const v=Zone.__symbol__,_="undefined"!=typeof window,m=_?window:void 0,E=_&&m||"object"==typeof self&&self||n.g,w="removeAttribute";function T(e,t){for(let n=e.length-1;n>=0;n--)"function"==typeof e[n]&&(e[n]=g(e[n],t+"_"+n));return e}function b(e){return!e||!1!==e.writable&&!("function"==typeof e.get&&void 0===e.set)}const k="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,S=!("nw"in E)&&void 0!==E.process&&"[object process]"==={}.toString.call(E.process),I=!S&&!k&&!(!_||!m.HTMLElement),C=void 0!==E.process&&"[object process]"==={}.toString.call(E.process)&&!k&&!(!_||!m.HTMLElement),O={},A=function(e){if(!(e=e||E.event))return;let t=O[e.type];t||(t=O[e.type]=v("ON_PROPERTY"+e.type));const n=this||e.target||E,r=n[t];let o;if(I&&n===m&&"error"===e.type){const t=e;o=r&&r.call(this,t.message,t.filename,t.lineno,t.colno,t.error),!0===o&&e.preventDefault()}else o=r&&r.apply(this,arguments),null==o||o||e.preventDefault();return o};function D(e,t,n){let i=r(e,t);if(!i&&n&&r(n,t)&&(i={enumerable:!0,configurable:!0}),!i||!i.configurable)return;const s=v("on"+t+"patched");if(e.hasOwnProperty(s)&&e[s])return;delete i.writable,delete i.value;const a=i.get,c=i.set,u=t.slice(2);let l=O[u];l||(l=O[u]=v("ON_PROPERTY"+u)),i.set=function(t){let n=this;n||e!==E||(n=E),n&&("function"==typeof n[l]&&n.removeEventListener(u,A),c&&c.call(n,null),n[l]=t,"function"==typeof t&&n.addEventListener(u,A,!1))},i.get=function(){let n=this;if(n||e!==E||(n=E),!n)return null;const r=n[l];if(r)return r;if(a){let e=a.call(this);if(e)return i.set.call(this,e),"function"==typeof n[w]&&n.removeAttribute(t),e}return null},o(e,t,i),e[s]=!0}function R(e,t,n){if(t)for(let r=0;r<t.length;r++)D(e,"on"+t[r],n);else{const t=[];for(const n in e)"on"==n.slice(0,2)&&t.push(n);for(let r=0;r<t.length;r++)D(e,t[r],n)}}const P=v("originalInstance");function N(e){const t=E[e];if(!t)return;E[v(e)]=t,E[e]=function(){const n=T(arguments,e);switch(n.length){case 0:this[P]=new t;break;case 1:this[P]=new t(n[0]);break;case 2:this[P]=new t(n[0],n[1]);break;case 3:this[P]=new t(n[0],n[1],n[2]);break;case 4:this[P]=new t(n[0],n[1],n[2],n[3]);break;default:throw new Error("Arg list too long.")}},M(E[e],t);const n=new t((function(){}));let r;for(r in n)"XMLHttpRequest"===e&&"responseBlob"===r||function(t){"function"==typeof n[t]?E[e].prototype[t]=function(){return this[P][t].apply(this[P],arguments)}:o(E[e].prototype,t,{set:function(n){"function"==typeof n?(this[P][t]=g(n,e+"."+t),M(this[P][t],n)):this[P][t]=n},get:function(){return this[P][t]}})}(r);for(r in t)"prototype"!==r&&t.hasOwnProperty(r)&&(E[e][r]=t[r])}function L(e,t,n){let o=e;for(;o&&!o.hasOwnProperty(t);)o=i(o);!o&&e[t]&&(o=e);const s=v(t);let a=null;if(o&&(!(a=o[s])||!o.hasOwnProperty(s))&&(a=o[s]=o[t],b(o&&r(o,t)))){const e=n(a,s,t);o[t]=function(){return e(this,arguments)},M(o[t],a)}return a}function U(e,t,n){let r=null;function o(e){const t=e.data;return t.args[t.cbIdx]=function(){e.invoke.apply(this,arguments)},r.apply(t.target,t.args),e}r=L(e,t,(e=>function(t,r){const i=n(t,r);return i.cbIdx>=0&&"function"==typeof r[i.cbIdx]?y(i.name,r[i.cbIdx],i,o):e.apply(t,r)}))}function M(e,t){e[v("OriginalDelegate")]=t}let Z=!1,B=!1;function x(){try{const e=m.navigator.userAgent;if(-1!==e.indexOf("MSIE ")||-1!==e.indexOf("Trident/"))return!0}catch(e){}return!1}function F(){if(Z)return B;Z=!0;try{const e=m.navigator.userAgent;-1===e.indexOf("MSIE ")&&-1===e.indexOf("Trident/")&&-1===e.indexOf("Edge/")||(B=!0)}catch(e){}return B}Zone.__load_patch("ZoneAwarePromise",((e,t,n)=>{const r=Object.getOwnPropertyDescriptor,o=Object.defineProperty,i=n.symbol,s=[],a=!0===e[i("DISABLE_WRAPPING_UNCAUGHT_PROMISE_REJECTION")],c=i("Promise"),u=i("then"),l="__creationTrace__";n.onUnhandledError=e=>{if(n.showUncaughtError()){const t=e&&e.rejection;t?console.error("Unhandled Promise rejection:",t instanceof Error?t.message:t,"; Zone:",e.zone.name,"; Task:",e.task&&e.task.source,"; Value:",t,t instanceof Error?t.stack:void 0):console.error(e)}},n.microtaskDrainDone=()=>{for(;s.length;){const e=s.shift();try{e.zone.runGuarded((()=>{if(e.throwOriginal)throw e.rejection;throw e}))}catch(e){f(e)}}};const h=i("unhandledPromiseRejectionHandler");function f(e){n.onUnhandledError(e);try{const n=t[h];"function"==typeof n&&n.call(this,e)}catch(e){}}function p(e){return e&&e.then}function d(e){return e}function g(e){return Z.reject(e)}const y=i("state"),v=i("value"),_=i("finally"),m=i("parentPromiseValue"),E=i("parentPromiseState"),w="Promise.then",T=null,b=!0,k=!1,S=0;function I(e,t){return n=>{try{D(e,t,n)}catch(t){D(e,!1,t)}}}const C=function(){let e=!1;return function(t){return function(){e||(e=!0,t.apply(null,arguments))}}},O="Promise resolved with itself",A=i("currentTaskTrace");function D(e,r,i){const c=C();if(e===i)throw new TypeError(O);if(e[y]===T){let h=null;try{"object"!=typeof i&&"function"!=typeof i||(h=i&&i.then)}catch(t){return c((()=>{D(e,!1,t)}))(),e}if(r!==k&&i instanceof Z&&i.hasOwnProperty(y)&&i.hasOwnProperty(v)&&i[y]!==T)P(i),D(e,i[y],i[v]);else if(r!==k&&"function"==typeof h)try{h.call(i,c(I(e,r)),c(I(e,!1)))}catch(t){c((()=>{D(e,!1,t)}))()}else{e[y]=r;const c=e[v];if(e[v]=i,e[_]===_&&r===b&&(e[y]=e[E],e[v]=e[m]),r===k&&i instanceof Error){const e=t.currentTask&&t.currentTask.data&&t.currentTask.data[l];e&&o(i,A,{configurable:!0,enumerable:!1,writable:!0,value:e})}for(let t=0;t<c.length;)N(e,c[t++],c[t++],c[t++],c[t++]);if(0==c.length&&r==k){e[y]=S;let r=i;try{throw new Error("Uncaught (in promise): "+((u=i)&&u.toString===Object.prototype.toString?(u.constructor&&u.constructor.name||"")+": "+JSON.stringify(u):u?u.toString():Object.prototype.toString.call(u))+(i&&i.stack?"\n"+i.stack:""))}catch(e){r=e}a&&(r.throwOriginal=!0),r.rejection=i,r.promise=e,r.zone=t.current,r.task=t.currentTask,s.push(r),n.scheduleMicroTask()}}}var u;return e}const R=i("rejectionHandledHandler");function P(e){if(e[y]===S){try{const n=t[R];n&&"function"==typeof n&&n.call(this,{rejection:e[v],promise:e})}catch(e){}e[y]=k;for(let t=0;t<s.length;t++)e===s[t].promise&&s.splice(t,1)}}function N(e,t,n,r,o){P(e);const i=e[y],s=i?"function"==typeof r?r:d:"function"==typeof o?o:g;t.scheduleMicroTask(w,(()=>{try{const r=e[v],o=!!n&&_===n[_];o&&(n[m]=r,n[E]=i);const a=t.run(s,void 0,o&&s!==g&&s!==d?[]:[r]);D(n,!0,a)}catch(e){D(n,!1,e)}}),n)}const U=function(){},M=e.AggregateError;class Z{static toString(){return"function ZoneAwarePromise() { [native code] }"}static resolve(e){return D(new this(null),b,e)}static reject(e){return D(new this(null),k,e)}static any(e){if(!e||"function"!=typeof e[Symbol.iterator])return Promise.reject(new M([],"All promises were rejected"));const t=[];let n=0;try{for(let r of e)n++,t.push(Z.resolve(r))}catch(e){return Promise.reject(new M([],"All promises were rejected"))}if(0===n)return Promise.reject(new M([],"All promises were rejected"));let r=!1;const o=[];return new Z(((e,i)=>{for(let s=0;s<t.length;s++)t[s].then((t=>{r||(r=!0,e(t))}),(e=>{o.push(e),n--,0===n&&(r=!0,i(new M(o,"All promises were rejected")))}))}))}static race(e){let t,n,r=new this(((e,r)=>{t=e,n=r}));function o(e){t(e)}function i(e){n(e)}for(let t of e)p(t)||(t=this.resolve(t)),t.then(o,i);return r}static all(e){return Z.allWithCallback(e)}static allSettled(e){return(this&&this.prototype instanceof Z?this:Z).allWithCallback(e,{thenCallback:e=>({status:"fulfilled",value:e}),errorCallback:e=>({status:"rejected",reason:e})})}static allWithCallback(e,t){let n,r,o=new this(((e,t)=>{n=e,r=t})),i=2,s=0;const a=[];for(let o of e){p(o)||(o=this.resolve(o));const e=s;try{o.then((r=>{a[e]=t?t.thenCallback(r):r,i--,0===i&&n(a)}),(o=>{t?(a[e]=t.errorCallback(o),i--,0===i&&n(a)):r(o)}))}catch(e){r(e)}i++,s++}return i-=2,0===i&&n(a),o}constructor(e){const t=this;if(!(t instanceof Z))throw new Error("Must be an instanceof Promise.");t[y]=T,t[v]=[];try{const n=C();e&&e(n(I(t,b)),n(I(t,k)))}catch(e){D(t,!1,e)}}get[Symbol.toStringTag](){return"Promise"}get[Symbol.species](){return Z}then(e,n){var r;let o=null===(r=this.constructor)||void 0===r?void 0:r[Symbol.species];o&&"function"==typeof o||(o=this.constructor||Z);const i=new o(U),s=t.current;return this[y]==T?this[v].push(s,i,e,n):N(this,s,i,e,n),i}catch(e){return this.then(null,e)}finally(e){var n;let r=null===(n=this.constructor)||void 0===n?void 0:n[Symbol.species];r&&"function"==typeof r||(r=Z);const o=new r(U);o[_]=_;const i=t.current;return this[y]==T?this[v].push(i,o,e,e):N(this,i,o,e,e),o}}Z.resolve=Z.resolve,Z.reject=Z.reject,Z.race=Z.race,Z.all=Z.all;const B=e[c]=e.Promise;e.Promise=Z;const x=i("thenPatched");function F(e){const t=e.prototype,n=r(t,"then");if(n&&(!1===n.writable||!n.configurable))return;const o=t.then;t[u]=o,e.prototype.then=function(e,t){return new Z(((e,t)=>{o.call(this,e,t)})).then(e,t)},e[x]=!0}return n.patchThen=F,B&&(F(B),L(e,"fetch",(e=>{return t=e,function(e,n){let r=t.apply(e,n);if(r instanceof Z)return r;let o=r.constructor;return o[x]||F(o),r};var t}))),Promise[t.__symbol__("uncaughtPromiseErrors")]=s,Z})),Zone.__load_patch("toString",(e=>{const t=Function.prototype.toString,n=v("OriginalDelegate"),r=v("Promise"),o=v("Error"),i=function(){if("function"==typeof this){const i=this[n];if(i)return"function"==typeof i?t.call(i):Object.prototype.toString.call(i);if(this===Promise){const n=e[r];if(n)return t.call(n)}if(this===Error){const n=e[o];if(n)return t.call(n)}}return t.call(this)};i[n]=t,Function.prototype.toString=i;const s=Object.prototype.toString;Object.prototype.toString=function(){return"function"==typeof Promise&&this instanceof Promise?"[object Promise]":s.call(this)}}));let j=!1;if("undefined"!=typeof window)try{const e=Object.defineProperty({},"passive",{get:function(){j=!0}});window.addEventListener("test",e,e),window.removeEventListener("test",e,e)}catch(e){j=!1}const z={useG:!0},H={},q={},G=new RegExp("^"+d+"(\\w+)(true|false)$"),W=v("propagationStopped");function V(e,t){const n=(t?t(e):e)+p,r=(t?t(e):e)+f,o=d+n,i=d+r;H[e]={},H[e][p]=o,H[e][f]=i}function X(e,t,n,r){const o=r&&r.add||c,s=r&&r.rm||u,a=r&&r.listeners||"eventListeners",l=r&&r.rmAll||"removeAllListeners",h=v(o),g="."+o+":",y="prependListener",_="."+y+":",m=function(e,t,n){if(e.isRemoved)return;const r=e.callback;let o;"object"==typeof r&&r.handleEvent&&(e.callback=e=>r.handleEvent(e),e.originalDelegate=r);try{e.invoke(e,t,[n])}catch(e){o=e}const i=e.options;if(i&&"object"==typeof i&&i.once){const r=e.originalDelegate?e.originalDelegate:e.callback;t[s].call(t,n.type,r,i)}return o};function E(n,r,o){if(!(r=r||e.event))return;const i=n||r.target||e,s=i[H[r.type][o?f:p]];if(s){const e=[];if(1===s.length){const t=m(s[0],i,r);t&&e.push(t)}else{const t=s.slice();for(let n=0;n<t.length&&(!r||!0!==r[W]);n++){const o=m(t[n],i,r);o&&e.push(o)}}if(1===e.length)throw e[0];for(let n=0;n<e.length;n++){const r=e[n];t.nativeScheduleMicroTask((()=>{throw r}))}}}const w=function(e){return E(this,e,!1)},T=function(e){return E(this,e,!0)};function b(t,n){if(!t)return!1;let r=!0;n&&void 0!==n.useG&&(r=n.useG);const c=n&&n.vh;let u=!0;n&&void 0!==n.chkDup&&(u=n.chkDup);let m=!1;n&&void 0!==n.rt&&(m=n.rt);let E=t;for(;E&&!E.hasOwnProperty(o);)E=i(E);if(!E&&t[o]&&(E=t),!E)return!1;if(E[h])return!1;const b=n&&n.eventNameToString,k={},I=E[h]=E[o],C=E[v(s)]=E[s],O=E[v(a)]=E[a],A=E[v(l)]=E[l];let D;n&&n.prepend&&(D=E[v(n.prepend)]=E[n.prepend]);const R=r?function(e){if(!k.isExisting)return I.call(k.target,k.eventName,k.capture?T:w,k.options)}:function(e){return I.call(k.target,k.eventName,e.invoke,k.options)},P=r?function(e){if(!e.isRemoved){const t=H[e.eventName];let n;t&&(n=t[e.capture?f:p]);const r=n&&e.target[n];if(r)for(let t=0;t<r.length;t++)if(r[t]===e){r.splice(t,1),e.isRemoved=!0,0===r.length&&(e.allRemoved=!0,e.target[n]=null);break}}if(e.allRemoved)return C.call(e.target,e.eventName,e.capture?T:w,e.options)}:function(e){return C.call(e.target,e.eventName,e.invoke,e.options)},N=n&&n.diff?n.diff:function(e,t){const n=typeof t;return"function"===n&&e.callback===t||"object"===n&&e.originalDelegate===t},L=Zone[v("UNPATCHED_EVENTS")],U=e[v("PASSIVE_EVENTS")],Z=function(t,o,i,s,a=!1,l=!1){return function(){const h=this||e;let d=arguments[0];n&&n.transferEventName&&(d=n.transferEventName(d));let g=arguments[1];if(!g)return t.apply(this,arguments);if(S&&"uncaughtException"===d)return t.apply(this,arguments);let y=!1;if("function"!=typeof g){if(!g.handleEvent)return t.apply(this,arguments);y=!0}if(c&&!c(t,g,h,arguments))return;const v=j&&!!U&&-1!==U.indexOf(d),_=function(e,t){return!j&&"object"==typeof e&&e?!!e.capture:j&&t?"boolean"==typeof e?{capture:e,passive:!0}:e?"object"==typeof e&&!1!==e.passive?Object.assign(Object.assign({},e),{passive:!0}):e:{passive:!0}:e}(arguments[2],v);if(L)for(let e=0;e<L.length;e++)if(d===L[e])return v?t.call(h,d,g,_):t.apply(this,arguments);const m=!!_&&("boolean"==typeof _||_.capture),E=!(!_||"object"!=typeof _)&&_.once,w=Zone.current;let T=H[d];T||(V(d,b),T=H[d]);const I=T[m?f:p];let C,O=h[I],A=!1;if(O){if(A=!0,u)for(let e=0;e<O.length;e++)if(N(O[e],g))return}else O=h[I]=[];const D=h.constructor.name,R=q[D];R&&(C=R[d]),C||(C=D+o+(b?b(d):d)),k.options=_,E&&(k.options.once=!1),k.target=h,k.capture=m,k.eventName=d,k.isExisting=A;const P=r?z:void 0;P&&(P.taskData=k);const M=w.scheduleEventTask(C,g,P,i,s);return k.target=null,P&&(P.taskData=null),E&&(_.once=!0),(j||"boolean"!=typeof M.options)&&(M.options=_),M.target=h,M.capture=m,M.eventName=d,y&&(M.originalDelegate=g),l?O.unshift(M):O.push(M),a?h:void 0}};return E[o]=Z(I,g,R,P,m),D&&(E[y]=Z(D,_,(function(e){return D.call(k.target,k.eventName,e.invoke,k.options)}),P,m,!0)),E[s]=function(){const t=this||e;let r=arguments[0];n&&n.transferEventName&&(r=n.transferEventName(r));const o=arguments[2],i=!!o&&("boolean"==typeof o||o.capture),s=arguments[1];if(!s)return C.apply(this,arguments);if(c&&!c(C,s,t,arguments))return;const a=H[r];let u;a&&(u=a[i?f:p]);const l=u&&t[u];if(l)for(let e=0;e<l.length;e++){const n=l[e];if(N(n,s))return l.splice(e,1),n.isRemoved=!0,0===l.length&&(n.allRemoved=!0,t[u]=null,"string"==typeof r)&&(t[d+"ON_PROPERTY"+r]=null),n.zone.cancelTask(n),m?t:void 0}return C.apply(this,arguments)},E[a]=function(){const t=this||e;let r=arguments[0];n&&n.transferEventName&&(r=n.transferEventName(r));const o=[],i=K(t,b?b(r):r);for(let e=0;e<i.length;e++){const t=i[e];let n=t.originalDelegate?t.originalDelegate:t.callback;o.push(n)}return o},E[l]=function(){const t=this||e;let r=arguments[0];if(r){n&&n.transferEventName&&(r=n.transferEventName(r));const e=H[r];if(e){const n=e[p],o=e[f],i=t[n],a=t[o];if(i){const e=i.slice();for(let t=0;t<e.length;t++){const n=e[t];let o=n.originalDelegate?n.originalDelegate:n.callback;this[s].call(this,r,o,n.options)}}if(a){const e=a.slice();for(let t=0;t<e.length;t++){const n=e[t];let o=n.originalDelegate?n.originalDelegate:n.callback;this[s].call(this,r,o,n.options)}}}}else{const e=Object.keys(t);for(let t=0;t<e.length;t++){const n=e[t],r=G.exec(n);let o=r&&r[1];o&&"removeListener"!==o&&this[l].call(this,o)}this[l].call(this,"removeListener")}if(m)return this},M(E[o],I),M(E[s],C),A&&M(E[l],A),O&&M(E[a],O),!0}let k=[];for(let e=0;e<n.length;e++)k[e]=b(n[e],r);return k}function K(e,t){if(!t){const n=[];for(let r in e){const o=G.exec(r);let i=o&&o[1];if(i&&(!t||i===t)){const t=e[r];if(t)for(let e=0;e<t.length;e++)n.push(t[e])}}return n}let n=H[t];n||(V(t),n=H[t]);const r=e[n[p]],o=e[n[f]];return r?o?r.concat(o):r.slice():o?o.slice():[]}function Y(e,t){const n=e.Event;n&&n.prototype&&t.patchMethod(n.prototype,"stopImmediatePropagation",(e=>function(t,n){t[W]=!0,e&&e.apply(t,n)}))}function $(e,t,n,r,o){const i=Zone.__symbol__(r);if(t[i])return;const s=t[i]=t[r];t[r]=function(i,a,c){return a&&a.prototype&&o.forEach((function(t){const o=`${n}.${r}::`+t,i=a.prototype;try{if(i.hasOwnProperty(t)){const n=e.ObjectGetOwnPropertyDescriptor(i,t);n&&n.value?(n.value=e.wrapWithCurrentZone(n.value,o),e._redefineProperty(a.prototype,t,n)):i[t]&&(i[t]=e.wrapWithCurrentZone(i[t],o))}else i[t]&&(i[t]=e.wrapWithCurrentZone(i[t],o))}catch(e){}})),s.call(t,i,a,c)},e.attachOriginToPatched(t[r],s)}function Q(e,t,n){if(!n||0===n.length)return t;const r=n.filter((t=>t.target===e));if(!r||0===r.length)return t;const o=r[0].ignoreProperties;return t.filter((e=>-1===o.indexOf(e)))}function J(e,t,n,r){e&&R(e,Q(e,t,n),r)}function ee(e){return Object.getOwnPropertyNames(e).filter((e=>e.startsWith("on")&&e.length>2)).map((e=>e.substring(2)))}function te(e,t){if(S&&!C)return;if(Zone[e.symbol("patchEvents")])return;const n=t.__Zone_ignore_on_properties;let r=[];if(I){const e=window;r=r.concat(["Document","SVGElement","Element","HTMLElement","HTMLBodyElement","HTMLMediaElement","HTMLFrameSetElement","HTMLFrameElement","HTMLIFrameElement","HTMLMarqueeElement","Worker"]);const t=x()?[{target:e,ignoreProperties:["error"]}]:[];J(e,ee(e),n?n.concat(t):n,i(e))}r=r.concat(["XMLHttpRequest","XMLHttpRequestEventTarget","IDBIndex","IDBRequest","IDBOpenDBRequest","IDBDatabase","IDBTransaction","IDBCursor","WebSocket"]);for(let e=0;e<r.length;e++){const o=t[r[e]];o&&o.prototype&&J(o.prototype,ee(o.prototype),n)}}Zone.__load_patch("util",((e,t,n)=>{const i=ee(e);n.patchOnProperties=R,n.patchMethod=L,n.bindArguments=T,n.patchMacroTask=U;const l=t.__symbol__("BLACK_LISTED_EVENTS"),h=t.__symbol__("UNPATCHED_EVENTS");e[h]&&(e[l]=e[h]),e[l]&&(t[l]=t[h]=e[l]),n.patchEventPrototype=Y,n.patchEventTarget=X,n.isIEOrEdge=F,n.ObjectDefineProperty=o,n.ObjectGetOwnPropertyDescriptor=r,n.ObjectCreate=s,n.ArraySlice=a,n.patchClass=N,n.wrapWithCurrentZone=g,n.filterProperties=Q,n.attachOriginToPatched=M,n._redefineProperty=Object.defineProperty,n.patchCallbacks=$,n.getGlobalObjects=()=>({globalSources:q,zoneSymbolEventNames:H,eventNames:i,isBrowser:I,isMix:C,isNode:S,TRUE_STR:f,FALSE_STR:p,ZONE_SYMBOL_PREFIX:d,ADD_EVENT_LISTENER_STR:c,REMOVE_EVENT_LISTENER_STR:u})}));const ne=v("zoneTask");function re(e,t,n,r){let o=null,i=null;n+=r;const s={};function a(t){const n=t.data;return n.args[0]=function(){return t.invoke.apply(this,arguments)},n.handleId=o.apply(e,n.args),t}function c(t){return i.call(e,t.data.handleId)}o=L(e,t+=r,(n=>function(o,i){if("function"==typeof i[0]){const e={isPeriodic:"Interval"===r,delay:"Timeout"===r||"Interval"===r?i[1]||0:void 0,args:i},n=i[0];i[0]=function(){try{return n.apply(this,arguments)}finally{e.isPeriodic||("number"==typeof e.handleId?delete s[e.handleId]:e.handleId&&(e.handleId[ne]=null))}};const o=y(t,i[0],e,a,c);if(!o)return o;const u=o.data.handleId;return"number"==typeof u?s[u]=o:u&&(u[ne]=o),u&&u.ref&&u.unref&&"function"==typeof u.ref&&"function"==typeof u.unref&&(o.ref=u.ref.bind(u),o.unref=u.unref.bind(u)),"number"==typeof u||u?u:o}return n.apply(e,i)})),i=L(e,n,(t=>function(n,r){const o=r[0];let i;"number"==typeof o?i=s[o]:(i=o&&o[ne],i||(i=o)),i&&"string"==typeof i.type?"notScheduled"!==i.state&&(i.cancelFn&&i.data.isPeriodic||0===i.runCount)&&("number"==typeof o?delete s[o]:o&&(o[ne]=null),i.zone.cancelTask(i)):t.apply(e,r)}))}function oe(e,t){if(Zone[t.symbol("patchEventTarget")])return;const{eventNames:n,zoneSymbolEventNames:r,TRUE_STR:o,FALSE_STR:i,ZONE_SYMBOL_PREFIX:s}=t.getGlobalObjects();for(let e=0;e<n.length;e++){const t=n[e],a=s+(t+i),c=s+(t+o);r[t]={},r[t][i]=a,r[t][o]=c}const a=e.EventTarget;return a&&a.prototype?(t.patchEventTarget(e,t,[a&&a.prototype]),!0):void 0}Zone.__load_patch("legacy",(e=>{const t=e[Zone.__symbol__("legacyPatch")];t&&t()})),Zone.__load_patch("queueMicrotask",((e,t,n)=>{n.patchMethod(e,"queueMicrotask",(e=>function(e,n){t.current.scheduleMicroTask("queueMicrotask",n[0])}))})),Zone.__load_patch("timers",(e=>{const t="set",n="clear";re(e,t,n,"Timeout"),re(e,t,n,"Interval"),re(e,t,n,"Immediate")})),Zone.__load_patch("requestAnimationFrame",(e=>{re(e,"request","cancel","AnimationFrame"),re(e,"mozRequest","mozCancel","AnimationFrame"),re(e,"webkitRequest","webkitCancel","AnimationFrame")})),Zone.__load_patch("blocking",((e,t)=>{const n=["alert","prompt","confirm"];for(let r=0;r<n.length;r++)L(e,n[r],((n,r,o)=>function(r,i){return t.current.run(n,e,i,o)}))})),Zone.__load_patch("EventTarget",((e,t,n)=>{!function(e,t){t.patchEventPrototype(e,t)}(e,n),oe(e,n);const r=e.XMLHttpRequestEventTarget;r&&r.prototype&&n.patchEventTarget(e,n,[r.prototype])})),Zone.__load_patch("MutationObserver",((e,t,n)=>{N("MutationObserver"),N("WebKitMutationObserver")})),Zone.__load_patch("IntersectionObserver",((e,t,n)=>{N("IntersectionObserver")})),Zone.__load_patch("FileReader",((e,t,n)=>{N("FileReader")})),Zone.__load_patch("on_property",((e,t,n)=>{te(n,e)})),Zone.__load_patch("customElements",((e,t,n)=>{!function(e,t){const{isBrowser:n,isMix:r}=t.getGlobalObjects();(n||r)&&e.customElements&&"customElements"in e&&t.patchCallbacks(t,e.customElements,"customElements","define",["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback"])}(e,n)})),Zone.__load_patch("XHR",((e,t)=>{!function(e){const c=e.XMLHttpRequest;if(!c)return;const u=c.prototype;let f=u[l],p=u[h];if(!f){const t=e.XMLHttpRequestEventTarget;if(t){const e=t.prototype;f=e[l],p=e[h]}}const d="readystatechange",g="scheduled";function _(e){const r=e.data,s=r.target;s[i]=!1,s[a]=!1;const c=s[o];f||(f=s[l],p=s[h]),c&&p.call(s,d,c);const u=s[o]=()=>{if(s.readyState===s.DONE)if(!r.aborted&&s[i]&&e.state===g){const n=s[t.__symbol__("loadfalse")];if(0!==s.status&&n&&n.length>0){const o=e.invoke;e.invoke=function(){const n=s[t.__symbol__("loadfalse")];for(let t=0;t<n.length;t++)n[t]===e&&n.splice(t,1);r.aborted||e.state!==g||o.call(e)},n.push(e)}else e.invoke()}else r.aborted||!1!==s[i]||(s[a]=!0)};return f.call(s,d,u),s[n]||(s[n]=e),k.apply(s,r.args),s[i]=!0,e}function m(){}function E(e){const t=e.data;return t.aborted=!0,S.apply(t.target,t.args)}const w=L(u,"open",(()=>function(e,t){return e[r]=0==t[2],e[s]=t[1],w.apply(e,t)})),T=v("fetchTaskAborting"),b=v("fetchTaskScheduling"),k=L(u,"send",(()=>function(e,n){if(!0===t.current[b])return k.apply(e,n);if(e[r])return k.apply(e,n);{const t={target:e,url:e[s],isPeriodic:!1,args:n,aborted:!1},r=y("XMLHttpRequest.send",m,t,_,E);e&&!0===e[a]&&!t.aborted&&r.state===g&&r.invoke()}})),S=L(u,"abort",(()=>function(e,r){const o=e[n];if(o&&"string"==typeof o.type){if(null==o.cancelFn||o.data&&o.data.aborted)return;o.zone.cancelTask(o)}else if(!0===t.current[T])return S.apply(e,r)}))}(e);const n=v("xhrTask"),r=v("xhrSync"),o=v("xhrListener"),i=v("xhrScheduled"),s=v("xhrURL"),a=v("xhrErrorBeforeScheduled")})),Zone.__load_patch("geolocation",(e=>{e.navigator&&e.navigator.geolocation&&function(e,t){const n=e.constructor.name;for(let o=0;o<t.length;o++){const i=t[o],s=e[i];if(s){if(!b(r(e,i)))continue;e[i]=(e=>{const t=function(){return e.apply(this,T(arguments,n+"."+i))};return M(t,e),t})(s)}}}(e.navigator.geolocation,["getCurrentPosition","watchPosition"])})),Zone.__load_patch("PromiseRejectionEvent",((e,t)=>{function n(t){return function(n){K(e,t).forEach((r=>{const o=e.PromiseRejectionEvent;if(o){const e=new o(t,{promise:n.promise,reason:n.rejection});r.invoke(e)}}))}}e.PromiseRejectionEvent&&(t[v("unhandledPromiseRejectionHandler")]=n("unhandledrejection"),t[v("rejectionHandledHandler")]=n("rejectionhandled"))}))}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){"use strict";n(37);var e=n(823),t=n(187),r=n.n(t),o={},i={},s=function(e,t){i[e]=t},a=function(e){var t=function(t,n){Object.assign(this,n),this.name=e,this.message=t||e,this.stack=(new Error).stack};return t.prototype=new Error,o[e]=t,t};a("AccountNameRequired"),a("AccountNotSupported"),a("AmountRequired"),a("BluetoothRequired"),a("BtcUnmatchedApp"),a("CantOpenDevice"),a("CashAddrNotSupported"),a("CurrencyNotSupported"),a("DeviceAppVerifyNotSupported"),a("DeviceGenuineSocketEarlyClose"),a("DeviceNotGenuine"),a("DeviceOnDashboardExpected"),a("DeviceOnDashboardUnexpected"),a("DeviceInOSUExpected"),a("DeviceHalted"),a("DeviceNameInvalid"),a("DeviceSocketFail"),a("DeviceSocketNoBulkStatus"),a("DisconnectedDevice"),a("DisconnectedDeviceDuringOperation"),a("EnpointConfig"),a("EthAppPleaseEnableContractData"),a("FeeEstimationFailed"),a("FirmwareNotRecognized"),a("HardResetFail"),a("InvalidXRPTag"),a("InvalidAddress"),a("InvalidAddressBecauseDestinationIsAlsoSource"),a("LatestMCUInstalledError"),a("UnknownMCU"),a("LedgerAPIError"),a("LedgerAPIErrorWithMessage"),a("LedgerAPINotAvailable"),a("ManagerAppAlreadyInstalled"),a("ManagerAppRelyOnBTC"),a("ManagerAppDepInstallRequired"),a("ManagerAppDepUninstallRequired"),a("ManagerDeviceLocked"),a("ManagerFirmwareNotEnoughSpace"),a("ManagerNotEnoughSpace"),a("ManagerUninstallBTCDep"),a("NetworkDown"),a("NoAddressesFound"),a("NotEnoughBalance"),a("NotEnoughBalanceToDelegate"),a("NotEnoughBalanceInParentAccount"),a("NotEnoughSpendableBalance"),a("NotEnoughBalanceBecauseDestinationNotCreated"),a("NoAccessToCamera"),a("NotEnoughGas"),a("NotSupportedLegacyAddress"),a("GasLessThanEstimate"),a("PasswordsDontMatch"),a("PasswordIncorrect"),a("RecommendSubAccountsToEmpty"),a("RecommendUndelegation"),a("TimeoutTagged"),a("UnexpectedBootloader"),a("MCUNotGenuineToDashboard"),a("RecipientRequired"),a("UnavailableTezosOriginatedAccountReceive"),a("UnavailableTezosOriginatedAccountSend"),a("UpdateFetchFileFail"),a("UpdateIncorrectHash"),a("UpdateIncorrectSig"),a("UpdateYourApp"),a("UserRefusedDeviceNameChange"),a("UserRefusedAddress"),a("UserRefusedFirmwareUpdate"),a("UserRefusedAllowManager"),a("UserRefusedOnDevice"),a("TransportOpenUserCancelled"),a("TransportInterfaceNotAvailable");var c=a("TransportRaceCondition");function u(e,t){this.name="TransportError",this.message=e,this.stack=(new Error).stack,this.id=t}a("TransportWebUSBGestureRequired"),a("DeviceShouldStayInApp"),a("WebsocketConnectionError"),a("WebsocketConnectionFailed"),a("WrongDeviceForAccount"),a("WrongAppForCurrency"),a("ETHAddressNonEIP"),a("CantScanQRCode"),a("FeeNotLoaded"),a("FeeRequired"),a("FeeTooHigh"),a("SyncError"),a("PairingFailed"),a("GenuineCheckFailed"),a("LedgerAPI4xx"),a("LedgerAPI5xx"),a("FirmwareOrAppUpdateRequired"),a("NoDBPathGiven"),a("DBWrongPassword"),a("DBNotReset"),u.prototype=new Error,s("TransportError",(function(e){return new u(e.message,e.id)}));var l={PIN_REMAINING_ATTEMPTS:25536,INCORRECT_LENGTH:26368,MISSING_CRITICAL_PARAMETER:26624,COMMAND_INCOMPATIBLE_FILE_STRUCTURE:27009,SECURITY_STATUS_NOT_SATISFIED:27010,CONDITIONS_OF_USE_NOT_SATISFIED:27013,INCORRECT_DATA:27264,NOT_ENOUGH_MEMORY_SPACE:27268,REFERENCED_DATA_NOT_FOUND:27272,FILE_ALREADY_EXISTS:27273,INCORRECT_P1_P2:27392,INS_NOT_SUPPORTED:27904,CLA_NOT_SUPPORTED:28160,TECHNICAL_PROBLEM:28416,OK:36864,MEMORY_PROBLEM:37440,NO_EF_SELECTED:37888,INVALID_OFFSET:37890,FILE_NOT_FOUND:37892,INCONSISTENT_FILE:37896,ALGORITHM_NOT_SUPPORTED:38020,INVALID_KCV:38021,CODE_NOT_INITIALIZED:38914,ACCESS_CONDITION_NOT_FULFILLED:38916,CONTRADICTION_SECRET_CODE_STATUS:38920,CONTRADICTION_INVALIDATION:38928,CODE_BLOCKED:38976,MAX_VALUE_REACHED:38992,GP_AUTH_FAILED:25344,LICENSING:28482,HALTED:28586};function h(e){this.name="TransportStatusError";var t=Object.keys(l).find((function(t){return l[t]===e}))||"UNKNOWN_ERROR",n=function(e){switch(e){case 26368:return"Incorrect length";case 26624:return"Missing critical parameter";case 27010:return"Security not satisfied (dongle locked or have invalid access rights)";case 27013:return"Condition of use not satisfied (denied by the user?)";case 27264:return"Invalid data received";case 27392:return"Invalid parameter received"}if(28416<=e&&e<=28671)return"Internal error, please report"}(e)||t,r=e.toString(16);this.message="Ledger device: "+n+" (0x"+r+")",this.stack=(new Error).stack,this.statusCode=e,this.statusText=t}h.prototype=new Error,s("TransportStatusError",(function(e){return new h(e.statusCode)}));var f=n(764).lW;class p{constructor(){this.exchangeTimeout=3e4,this.unresponsiveTimeout=15e3,this.deviceModel=null,this._events=new(r()),this.send=async(e,t,n,r,o=f.alloc(0),i=[l.OK])=>{if(o.length>=256)throw new u("data.length exceed 256 bytes limit. Got: "+o.length,"DataLengthTooBig");const s=await this.exchange(f.concat([f.from([e,t,n,r]),f.from([o.length]),o])),a=s.readUInt16BE(s.length-2);if(!i.some((e=>e===a)))throw new h(a);return s},this.exchangeBusyPromise=void 0,this.exchangeAtomicImpl=async e=>{if(this.exchangeBusyPromise)throw new c("An action was already pending on the Ledger device. Please deny or reconnect.");let t;const n=new Promise((e=>{t=e}));this.exchangeBusyPromise=n;let r=!1;const o=setTimeout((()=>{r=!0,this.emit("unresponsive")}),this.unresponsiveTimeout);try{const t=await e();return r&&this.emit("responsive"),t}finally{clearTimeout(o),t&&t(),this.exchangeBusyPromise=null}},this._appAPIlock=null}exchange(e){throw new Error("exchange not implemented")}setScrambleKey(e){}close(){return Promise.resolve()}on(e,t){this._events.on(e,t)}off(e,t){this._events.removeListener(e,t)}emit(e,...t){this._events.emit(e,...t)}setDebugMode(){console.warn("setDebugMode is deprecated. use @ledgerhq/logs instead. No logs are emitted in this anymore.")}setExchangeTimeout(e){this.exchangeTimeout=e}setExchangeUnresponsiveTimeout(e){this.unresponsiveTimeout=e}static create(e=3e3,t){return new Promise(((n,r)=>{let o=!1;const i=this.listen({next:t=>{o=!0,i&&i.unsubscribe(),s&&clearTimeout(s),this.open(t.descriptor,e).then(n,r)},error:e=>{s&&clearTimeout(s),r(e)},complete:()=>{s&&clearTimeout(s),o||r(new u(this.ErrorMessage_NoDeviceFound,"NoDeviceFound"))}}),s=t?setTimeout((()=>{i.unsubscribe(),r(new u(this.ErrorMessage_ListenTimeout,"ListenTimeout"))}),t):null}))}decorateAppAPIMethods(e,t,n){for(let r of t)e[r]=this.decorateAppAPIMethod(r,e[r],e,n)}decorateAppAPIMethod(e,t,n,r){return async(...o)=>{const{_appAPIlock:i}=this;if(i)return Promise.reject(new u("Ledger Device is busy (lock "+i+")","TransportLocked"));try{return this._appAPIlock=e,this.setScrambleKey(r),await t.apply(n,o)}finally{this._appAPIlock=null}}}}p.isSupported=void 0,p.list=void 0,p.listen=void 0,p.open=void 0,p.ErrorMessage_ListenTimeout="No Ledger device found (timeout)",p.ErrorMessage_NoDeviceFound="No Ledger device found";let d=0;const g=[],y=(e,t,n)=>{const r={type:e,id:String(++d),date:new Date};t&&(r.message=t),n&&(r.data=n),function(e){for(let t=0;t<g.length;t++)try{g[t](e)}catch(e){console.error(e)}}(r)};"undefined"!=typeof window&&(window.__ledgerLogsListen=e=>(g.push(e),()=>{const t=g.indexOf(e);-1!==t&&(g[t]=g[g.length-1],g.pop())}));var v=n(764).lW;const _=e=>e.replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"");let m=[];class E extends p{static async open(e,t=5e3){return new E}constructor(){super(),this.scrambleKey=void 0,this.unwrap=!0,m.push(this)}async exchange(t){try{return await function(t,n,r,o){const i=function(e,t){const n=v.alloc(e.length);for(let r=0;r<e.length;r++)n[r]=e[r]^t[r%t.length];return n}(t,r),s=v.from("0000000000000000000000000000000000000000000000000000000000000000","hex"),a={version:"U2F_V2",keyHandle:_(i.toString("base64")),challenge:_(s.toString("base64")),appId:location.origin};return y("apdu","=> "+t.toString("hex")),(0,e.sign)(a,n/1e3).then((e=>{const{signatureData:t}=e;if("string"==typeof t){const e=v.from((n=t).replace(/-/g,"+").replace(/_/g,"/")+"==".substring(0,3*n.length%4),"base64");let r;return r=o?e.slice(5):e,y("apdu","<= "+r.toString("hex")),r}throw e;var n}))}(t,this.exchangeTimeout,this.scrambleKey,this.unwrap)}catch(e){throw"object"==typeof e.metaData?(5===e.metaData.code&&(m.forEach((e=>e.emit("disconnect"))),m=[]),function(e,t,n){const r=new u(t,n);return r.originalError=e,r}(e,"Failed to sign with Ledger device: U2F "+e.metaData.type,"U2F_"+e.metaData.code)):e}}setScrambleKey(e){this.scrambleKey=v.from(e,"ascii")}setUnwrap(e){this.unwrap=e}close(){return Promise.resolve()}}E.isSupported=e.isSupported,E.list=()=>(0,e.isSupported)().then((e=>e?[null]:[])),E.listen=t=>{let n=!1;return(0,e.isSupported)().then((e=>{n||(e?(t.next({type:"add",descriptor:null}),t.complete()):t.error(new u("U2F browser support is needed for Ledger. Please use Chrome, Opera or Firefox with a U2F extension. Also make sure you're on an HTTPS connection","U2FNotSupported")))})),{unsubscribe:()=>{n=!0}}},window.Buffer=n(764).lW,window.global=window,console.log("TransportWebU2F LOAD!"),console.log(`TransportWebU2F: ${E}`),n.g.window.TransportWebU2F=E}()}();